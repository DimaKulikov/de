# Пример написания класса для обработки данных с использованием pandas
## [Код](./report_example.py)
В [файле](./report_example.py) представлен пример использования pandas, sqlalchemy, openpyxl для создания отчёта в xlxs. 

Класс **SlotsRecsSFH** создан для автоматизации получения отчёта с возможностью гибкой выборки данных и гибкой группиковки по большему или меньшему количеству полей.

## Кратко о данных
Исходные данные для отчёта лежат во вью. По сути, каждая строка - это временной интервал, именуемый "слот". Каждый слот может быть занят или свободен (признак в столбце IS_BUSY)
![MVIEWS - SFH_VIEW](https://github.com/user-attachments/assets/69fd7f49-e6d0-4107-8a90-70b3ff9ed339)

## Цель отчёта
Сформировать файл с количеством свободных и занятых слотов в удобном для просмотра виде. Отчёт должен быть удобен для регулярного запуска в airflow (в конструкторе на вход принимает дату отчёта). Должна быть возможность сформировать похожий отчёт с разной степенью детализации, с разной группировкой, только по "крупным" сущностям, или с разбивкой до более "мелких". Пример:
![image](https://github.com/user-attachments/assets/dc659d8e-8b54-48c3-ad01-4f5f835f102c)



