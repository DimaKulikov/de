# Raw layer
## Как организовали слой сырых данных, для данных получаемых в csv файлах ежедневно/ежемесячно/каждые 2 часа
![image](https://github.com/user-attachments/assets/3b583b41-02ed-48b2-8f03-b6807e4f2a08)
- Исходные файлы лежат в сетевом хранилище на базе windows 
- Сетевое хранилище смонтировано на хост с ClickHouse сервером
- Для каждой таблицы (группы csv файлов) создаётся таблица в ClickHouse с движком file
- Создание и обновление таблиц автоматизировано python скриптом, на основе заполняемых вручную toml файлов с метаданными (формат файла, перечень колонок в файле)
## Плюсы реализации
Когда столкнулись с вопросом экономии места в сетевом хранилище, смогли безболезненно заархивировать все csv файлы в xz, заменив только расширение файла при создании таблиц в ClickHouse с csv на csv.xz
